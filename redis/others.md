
## bitmap  
Bitmap，即位图，是一串连续的二进制数组（0和1），可以通过偏移量（offset）定位元素。BitMap通过最小的单位bit来进行0|1的设置，表示某个元素的值或者状态，时间复杂度为O(1)。  
![bitmap.png](image%2Fbitmap.png)  
bitmap是用string类型作为底层数据结构实现的一种数据结构

### 应用场景  
1. 签到统计  
   在签到打卡的场景中，我们只用记录签到（1）或未签到（0），所以它就是非常典型的二值状态。
2. 判断登录状态、在线人数  
   只需要一个 key = login_status 表示存储用户登陆状态集合数据， 将用户 ID 作为 offset，在线就设置为 1，下线设置 0。通过 GETBIT判断对应的用户是否在线  
3. 连续签到总人数  
   我们把每天的日期作为 Bitmap 的 key，userId 作为 offset，若是打卡则将 offset 位置的 bit 设置成 1。 key 对应的集合的每个 bit 位的数据则是一个用户在该日期的打卡记录。 一共有 7 个这样的 Bitmap，如果我们能对这 7 个 Bitmap 的对应的 bit 位做 『与』运算。同样的 UserID offset 都是一样的，当一个 userID 在 7 个 Bitmap 对应对应的 offset 位置的 bit = 1 就说明该用户 7 天连续打卡，结果保存到一个新 Bitmap 中，我们再通过 BITCOUNT 统计 bit = 1 的个数便得到了连续打卡 7 天的用户总数了。  

## hyperloglog   
一种用于「统计基数」的数据集合类型，基数统计就是指统计一个集合中不重复的元素个数。在 Redis 里面，每个 HyperLogLog 键只需要花费 12 KB 内存，就可以计算接近 2^64 个不同元素的基数，和元素越多就越耗费内存的 Set 和 Hash 类型相比，HyperLogLog 就非常节省空间  
### 应用场景
1. 百万级网页 UV 计数  

## GEO  
GEO 主要用于存储地理位置信息，并对存储的信息进行操作。在日常生活中，我们越来越依赖搜索“附近的餐馆”、在打车软件上叫车，这些都离不开基于位置信息服务（Location-Based Service，LBS）的应用。LBS 应用访问的数据是和人或物关联的一组经纬度信息，而且要能查询相邻的经纬度范围，GEO 就非常适合应用在 LBS 服务的场景中。  
- 内部实现  
  GEO 本身并没有设计新的底层数据结构，而是直接使用了 Sorted Set 集合类型。GEO 类型使用 GeoHash 编码方法实现了经纬度到 Sorted Set 中元素权重分数的转换，这其中的两个关键机制就是「对二维地图做区间划分」和「对区间进行编码」。一组经纬度落在某个区间后，就用区间的编码值来表示，并把编码值作为 Sorted Set 元素的权重分数。这样一来，我们就可以把经纬度保存到 Sorted Set 中，利用 Sorted Set 提供的“按权重进行有序范围查找”的特性，实现 LBS 服务中频繁使用的“搜索附近”的需求  
### 应用场景
1. 附近的人等相似场景  
使用GEORADIUS 命令，查找以自己经纬度为中心的100m内的人  

## stream 
Redis 专门为消息队列设计的数据类型，它支持消息的持久化、支持自动生成全局唯一 ID、支持 ack 确认消息的模式、支持消费组模式等。  
### 常见命令  
- XADD：插入消息，保证有序，可以自动生成全局唯一 ID
- XLEN ：查询消息长度
- XREAD：用于读取消息，可以按 ID 读取数据
- XDEL ： 根据消息 ID 删除消息
- DEL ：删除整个 Stream
- XRANGE ：读取区间消息
- XREADGROUP：按消费组形式读取消息
- XPENDING 和 XACK：
  XPENDING 命令可以用来查询每个消费组内所有消费者「已读取、但尚未确认」的消息；
  XACK 命令用于向消息队列确认消息处理已完成  
### 应用场景  
1. 消息队列
